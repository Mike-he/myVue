webpackJsonp([3],{"7xQ9":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("//Fk"),a=n.n(r),o=n("7+uW"),s=n("mtWM"),i=n.n(s),u=(n("fxnj"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),this._v(" "),t("div",[t("router-view")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"layout-header"},[t("div"),this._v(" "),t("div",{staticClass:"layout-header-title"})])}]});var l=n("VU/8")({name:"App",mounted:function(){}},u,!1,function(e){n("u5lw")},null,null).exports,c=n("/ocq");o.default.use(c.a);var f=new c.a({routes:[{path:"/",name:"login",component:function(){return n.e(1).then(n.bind(null,"xJsL"))}},{path:"/order",name:"order",component:function(){return n.e(0).then(n.bind(null,"AkY+"))}}]}),p=(n("uMhA"),n("zL8q")),d=n.n(p),h=n("BO1k"),m=n.n(h),x=n("pFYg"),v=n.n(x),b=n("fZjL"),y=n.n(b),g=n("Xxa5"),w=n.n(g),S=n("exGp"),k=n.n(S),E=n("sJst"),F=n.n(E),I={props:{type:{type:String,default:"xls"},data:{type:Array,required:!1,default:null},fields:{type:Object,required:!1},exportFields:{type:Object,required:!1},defaultValue:{type:String,required:!1,default:""},title:{default:null},footer:{default:null},name:{type:String,default:"data.xls"},fetch:{type:Function},meta:{type:Array,default:function(){return[]}},worksheet:{type:String,default:"Sheet1"},beforeGenerate:{type:Function},beforeFinish:{type:Function}},computed:{idName:function(){return"export_"+(new Date).getTime()},downloadFields:function(){return void 0!==this.fields?this.fields:void 0!==this.exportFields?this.exportFields:void 0}},methods:{generate:function(){var e=this;return k()(w.a.mark(function t(){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e.beforeGenerate){t.next=3;break}return t.next=3,e.beforeGenerate();case 3:if(n=e.data,"function"!=typeof e.fetch&&n){t.next=8;break}return t.next=7,e.fetch();case 7:n=t.sent;case 8:if(n&&n.length){t.next=10;break}return t.abrupt("return");case 10:if(r=e.getProcessedJson(n,e.downloadFields),"html"!==e.type){t.next=15;break}return t.abrupt("return",e.export(e.jsonToXLS(r),e.name.replace(".xls",".html"),"text/html"));case 15:if("csv"!==e.type){t.next=17;break}return t.abrupt("return",e.export(e.jsonToCSV(r),e.name.replace(".xls",".csv"),"application/csv"));case 17:return t.abrupt("return",e.export(e.jsonToXLS(r),e.name,"application/vnd.ms-excel"));case 18:case"end":return t.stop()}},t,e)}))()},export:function(){var e=k()(w.a.mark(function e(t,n,r){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.base64ToBlob(t,r),"function"!=typeof this.beforeFinish){e.next=4;break}return e.next=4,this.beforeFinish();case 4:F()(a,n,r);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),jsonToXLS:function(e){var t="<thead>",n=y()(e[0]).length,r=this;for(var a in null!=this.title&&(t+=this.parseExtraData(this.title,'<tr><th colspan="'+n+'">${data}</th></tr>')),t+="<tr>",e[0])t+="<th>"+a+"</th>";return t+="</tr>",t+="</thead>",t+="<tbody>",e.map(function(e,n){for(var a in t+="<tr>",e)t+="<td>"+r.valueReformattedForMultilines(e[a])+"</td>";t+="</tr>"}),t+="</tbody>",null!=this.footer&&(t+="<tfoot>",t+=this.parseExtraData(this.footer,'<tr><td colspan="'+n+'">${data}</td></tr>'),t+="</tfoot>"),'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>'.replace("${table}",t).replace("${worksheet}",this.worksheet)},jsonToCSV:function(e){var t=[];for(var n in null!=this.title&&t.push(this.parseExtraData(this.title,"${data}\r\n")),e[0])t.push(n),t.push(",");return t.pop(),t.push("\r\n"),e.map(function(e){for(var n in e){var r='="'+e[n]+'"';r.match(/[,"\n]/)&&(r='"'+r.replace(/\"/g,'""')+'"'),t.push(r),t.push(",")}t.pop(),t.push("\r\n")}),null!=this.footer&&t.push(this.parseExtraData(this.footer,"${data}\r\n")),t.join("")},getProcessedJson:function(e,t){var n=this.getKeys(e,t),r=[],a=this;return e.map(function(e,t){var o={};for(var s in n){var i=n[s];o[s]=a.getValue(i,e)}r.push(o)}),r},getKeys:function(e,t){if(t)return t;var n={};for(var r in e[0])n[r]=r;return n},parseExtraData:function(e,t){var n="";if(Array.isArray(e))for(var r=0;r<e.length;r++)n+=t.replace("${data}",e[r]);else n+=t.replace("${data}",e);return n},getValue:function(e,t){var n="object"!==(void 0===e?"undefined":v()(e))?e:e.field,r="string"!=typeof n?[]:n.split("."),a=this.defaultValue;return a=n?r.length>1?this.getValueFromNestedItem(t,r):this.parseValue(t[n]):t,e.hasOwnProperty("callback")&&(a=this.getValueFromCallback(a,e.callback)),a},valueReformattedForMultilines:function(e){return"string"==typeof e?e.replace(/\n/gi,"<br/>"):e},getValueFromNestedItem:function(e,t){var n=e,r=!0,a=!1,o=void 0;try{for(var s,i=m()(t);!(r=(s=i.next()).done);r=!0){var u=s.value;n&&(n=n[u])}}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return this.parseValue(n)},getValueFromCallback:function(e,t){if("function"!=typeof t)return this.defaultValue;var n=t(e);return this.parseValue(n)},parseValue:function(e){return e||0===e||"boolean"==typeof e?e:this.defaultValue},base64ToBlob:function(e,t){for(var n=window.btoa(window.unescape(encodeURIComponent(e))),r=atob(n),a=r.length,o=new Uint8ClampedArray(a);a--;)o[a]=r.charCodeAt(a);return new Blob([o],{type:t})}}},V={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:this.idName},on:{click:this.generate}},[this._t("default",[this._v("\n\t\tDownload "+this._s(this.name)+"\n\t")])],2)},staticRenderFns:[]},_=n("VU/8")(I,V,!1,null,null,null).exports,N=(n("tvR6"),n("PBss"),{render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"box"},[this._t("default")],2)},staticRenderFns:[]});var $=n("VU/8")({name:"Box"},N,!1,function(e){n("7xQ9")},"data-v-a5eb0bba",null).exports,D=n("ppUw"),O=n.n(D),j=n("NYxO");o.default.use(j.a);var A=new j.a.Store({state:{API_URL:"http://mm.diandianboke.com:8080",JSESSIONID:""},getters:{getJSESSIONID:function(e){return e.JSESSIONID}},mutations:{setJSESSIONID:function(e,t){e.JSESSIONID=t}},actions:{setJSESSIONID:function(e,t){e.commit("setJSESSIONID",t)}}});o.default.use(O.a),o.default.use(d.a),o.default.component("downloadExcel",_),o.default.component("box",$),o.default.prototype.$message=d.a.Message,i.a.interceptors.request.use(function(e){return e},function(e){return a.a.reject(e)}),i.a.defaults.withCredentials=!1,o.default.prototype.$axios=i.a,o.default.config.productionTip=!1,new o.default({el:"#app",router:f,store:A,components:{App:l},template:"<App/>"})},PBss:function(e,t){},tvR6:function(e,t){},u5lw:function(e,t){},uMhA:function(e,t){}},["NHnr"]);